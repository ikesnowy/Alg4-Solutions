---
title: 2.5.3
tags: Sort
date: 2019-01-04 18:56:11
---

# 题目

2.5.3
找出下面这段账户余额 Balance 类的实现代码的错误。
为什么 compareTo() 方法对 Comparable 接口的实现有缺陷？

```java
public class Balance implements Comparable<Balance>
{
    private double amount;
    public int compareTo(Banlance that)
    {
        if (this.amount < that.amount - 0.005) return -1;
        if (this.amount > that.amount + 0.005) return +1;
        return 0;
    }
}
```

# 解答

这样会破坏相等的传递性。
例如 a = 0.005, b=0.000, c=-0.005，则 a == b, c == b，但是 a != c。