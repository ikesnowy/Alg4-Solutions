---
title: 3.1.22
tags: Searching
date: 2019-02-28 20:03:44
---

# 题目

3.1.22
自组织查找。
自组织查找指的是一种能够将数组元素重新排序
使得被访问频率较高的元素更容易被找到的查找算法。
请修改你为习题 3.1.2 给出的答案，在每次查找命中时：
将被找到的键值对移动到数组的开头，将所有中间的键值对向右移动一格。
这个启发式的过程被称为前移编码。

# 解答

对 `Get()` 做修改，得到 `MoveToFrontArrayST`。

```csharp
public TValue Get(TKey key)
{
    int i;
    for (i = 0; i < this.n; i++)
        if (this.keys[i].Equals(key))
            break;

    if (i == this.n)
        return default(TValue);

    TKey toFrontKey = this.keys[i];
    TValue toFrontValue = this.values[i];

    for (int j = i; j > 0; j--)
        this.keys[j] = this.keys[j - 1];
    for (int j = i; j > 0; j--)
        this.values[j] = this.values[j - 1];

    this.keys[0] = toFrontKey;
    this.values[0] = toFrontValue;

    return this.values[0];
}
```

# 另请参阅

[SymbolTable 库](https://alg4.ikesnowy.com/docs/api/SymbolTable.html)