---
title: 2.5.1
tags: Sort
date: 2019-01-03 16:21:53
---

# 题目

2.5.1
在下面这段 String 类型的 compareTo() 方法的实现中，第三行对提高运行效率有何帮助？

```java
public int compareTo(String that)
{
    if (this == that) return 0;  // 这一行
    int n = Math.min(this.length(), that.length());
    for (int i = 0; i < n; i++)
    {
        if (this.charAt(i) < that.charAt(i)) return -1;
        else if (this.charAt(i) > that.charAt(i)) return +1;
    }
    return this.length() - that.length();
}
```

# 解答

如果比较的两个 `String` 引用的是同一个对象，那么就直接返回相等，不必再逐字符比较。
一个例子：

```csharp
string s = "abcabc";
string p = s;
Console.WriteLine(s.CompareTo(p));
```

