---
title: 2.5.7
tags: Sort
date: 2019-01-07 14:50:55
---

# 题目

2.5.7
用 select() 找出 N 个元素中的最小值平均大约需要多少次比较？

# 解答

参考书中给出的快速排序性能分析方法（中文版 P186，英文版 P293）。

设 $ C_n $ 代表找出 $ n $ 个元素中的最小值所需要的比较次数。
一次切分需要 $ n+1 $ 次比较，下一侧的元素个数从 $ 0 $ 到 $ n-1 ​$ 都有可能，
于是根据全概率公式，有：
$$
\begin{eqnarray}
C_n&=&\frac {1}{n} (n+1) +\frac{1}{n} (n+1+C_1)+ \cdots + \frac{1}{n}(n+1+C_{n-1}) \\
C_n&=&n+1+\frac{1}{n}(C_1+C_2+\cdots+C_{n-1}) \\
nC_n&=&n(n+1)+(C_1+C_2+\cdots+C_{n-1}) \\
nC_n-(n-1)C_{n-1}&=&2n+C_{n-1} \\
nC_n&=&2n+nC_{n-1} \\
C_n&=&2+C_{n-1} \\
C_n &=& C_1+2(n-1) \\
C_n &=& 2n-2
\end{eqnarray}
$$
测试结果符合我们的预期。
![](./1.png)

附加：找出第 $ k $ 小的数需要的比较次数。
切分时有三种可能，枢轴正好是第 $ k $ 小的元素，枢轴的次序大于 $ k $， 枢轴的次序小于 $ k ​$ 。
由全概率公式：
$$
\begin{eqnarray}
C_n^k&=&\frac {1}{n} (n+1) +\frac{1}{n} (n+1+C_{k+1}^k)+ \cdots+\frac{1}{n}(n+1+C_{n-1}^k)+\frac{1}{n}(n+1+C_{n-1}^{k-1})+\cdots+\frac{1}{n}(n+1+C_{n-k}^{0}) \\
C_n^k &=& n+1+\frac{1}{n}(C_{k+1}^k+\cdots+C_{n-1}^k)+\frac{1}{n}(C^{k-1}_{n-1}+\cdots+)
\end{eqnarray}
$$
