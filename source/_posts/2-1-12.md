---
title: 2.1.12
tags: Sort
date: 2018-06-30 15:10:47
---

# 题目

2.1.12
令希尔排序打印出递增序列的每个元素所带来的比较次数和数组大小的比值。 
编写一个测试用例对随机 Double 数组进行希尔排序，
验证该值是一个小常数，数组大小按照 10 的幂次递增，不小于 100。

# 解答

结果截图如下，同一个 h 值对应的比值在数组大小不同时保持为一个小常数：
![](./1.png)

# 代码

```csharp
class Program
{
    // 查看最后结果
    // 可以发现相同的 h 在数组大小不同时所产生的比值十分接近。
    static void Main(string[] args)
    {
        Random random = new Random();
        ShellSort sort = new ShellSort();

        int size = 100;
        for (int i = 0; i < 5; i++)
        {
            double[] a = new double[size];
            for (int j = 0; j < size; j++)
            {
                a[j] = random.NextDouble() * 100;
            }
            Console.WriteLine("ArraySize:" + size);
            sort.Sort(a);
            size *= 10;
        }
    }
}
```

# 另请参阅

[Sort 库](https://alg4.ikesnowy.com/docs/api/Sort.html)