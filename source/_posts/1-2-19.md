---
title: 1.2.19
tags: Fundamental
date: 2018-05-16 08:48:32
---

# 题目

1.2.19
字符串解析。 
为你在练习 1.2.13 中实现的 Date 和 Transaction 类型编写能够解析字符串数据的构造函数。 
它接受一个 String 参数指定的初始值，格式如下所示：

|    类型     |               格式               |          举例          |
| :---------: | :------------------------------: | :--------------------: |
|    Date     |         由斜杠分隔的整数         |       5/22/1939        |
| Transaction | 客户、日期和金额，由空白字符分隔 | Turing 5/22/1939 11.99 |

# 解答

之前的 Date 和 Transaction 已经包含了这些实现。

# 代码

## Date

```csharp
/// <summary>
/// 构造函数。
/// </summary>
/// <param name="date">形如 "05/31/2017" 的字符串。</param>
public Date(string date)
{
    string[] a = date.Split('/');
    if (a.Length != 3)
        throw new ArgumentException("Illgal Date");
    Month = int.Parse(a[0]);
    Day = int.Parse(a[1]);
    Year = int.Parse(a[2]);
}
```

## Transaction

```csharp
/// <summary>
/// 构造函数。
/// </summary>
/// <param name="transaction">用空格隔开的形如 “姓名 日期 金额” 的字符串。</param>
public Transaction(string transaction)
{
    string[] a = transaction.Split(' ');
    Who = a[0];
    When = new Date(a[1]);
    Amount = double.Parse(a[2]);
}
```

# 另请参阅

[Commercial 类](https://github.com/ikesnowy/Algorithms-4th-Edition-in-Csharp/tree/master/1%20Fundamental/1.2/Commercial)