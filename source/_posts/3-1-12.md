---
title: 3.1.12
tags: Searching
date: 2019-02-23 18:38:29
---

# 题目

3.1.12
修改 BinarySearchST，用一个 Item 对象的数组而非两个平行数组来保存键和值。
添加一个构造函数，接受一个 Item 的数组为参数并将其归并排序。

# 解答

建立类 `Item`：

```csharp
public class Item<TKey, TValue> : IComparable<Item<TKey, TValue>>
    where TKey : IComparable<TKey>
{
    public TKey Key { get; set; }
    public TValue Value { get; set; }

    public int CompareTo(Item<TKey, TValue> other)
    {
        return this.Key.CompareTo(other.Key);
    }
}
```

之后修改 `BinarySearchST`，将其中的 `TKey[] keys` 和 `TValue[] values` 数组用 `Item[] items` 数组代替。
例如 `keys[i]` 变为 `items[i].Key`，`values[i]` 变为 `items[i].Value`。

添加一个构造函数，调用之前编写的归并排序实现。

```csharp
/// <summary>
/// 根据已有的键值对构造一个符号表。
/// </summary>
/// <param name="items">已有的键值对。</param>
public ItemBinarySearchST(Item<TKey, TValue>[] items)
{
    this.items = new Item<TKey, TValue>[items.Length];
    Array.Copy(items, this.items, items.Length);
    this.n = items.Length;
    MergeSort merge = new MergeSort();
    merge.Sort(this.items);
}
```

# 另请参阅

[Merge 库](https://alg4.ikesnowy.com/docs/api/Merge.html)
[SymbolTable 库](https://alg4.ikesnowy.com/docs/api/SymbolTable.html)